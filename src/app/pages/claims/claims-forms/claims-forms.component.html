<form class="mb-4" [formGroup]="formGroup" (ngSubmit)="onSubmit()" autocomplete="off">
    <ngb-accordion #acc="ngbAccordion" activeIds="1,2,3,4,5,6,7,8,9,10,11">
        <!-- Policy Details -->
        <ngb-panel id="1" title="Policy Details" cardClass="open my-4">
            <ng-template ngbPanelContent="1">
                <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo">
                    <div class="container-fluid mb-3">
                        <div class="row">

                            <!-- Claims Types: Medical | Motor | General -->
                            <div class="col-lg-12">
                                <label for="medical">Claims Type: </label>
                                <div class="form-check form-check-inline mx-2">
                                    <input class="form-check-input" id="medical" type="radio"
                                        formControlName="claimType" (change)="claimTypeTogglerEvt()"
                                        [value]="uiState.claimTypes.Medical" checked>
                                    <label class="form-check-label" for="medical">Medical</label>
                                </div>
                                <div class="form-check form-check-inline mx-2">
                                    <input class="form-check-input" id="motor" type="radio" formControlName="claimType"
                                        (change)="claimTypeTogglerEvt()" [value]="uiState.claimTypes.Motor">
                                    <label class="form-check-label" for="motor">Motor</label>
                                </div>
                                <div class="form-check form-check-inline mx-2">
                                    <input class="form-check-input" id="general" type="radio"
                                        formControlName="claimType" (change)="claimTypeTogglerEvt()"
                                        [value]="uiState.claimTypes.General">
                                    <label class="form-check-label" for="general">General</label>
                                </div>
                            </div>
                            <!--./col-->
                        </div>

                        <div class="row my-2">
                            <!-- Client Info -->
                            <div class="col-lg-3 col-md-6 col-sm-12 my-1">
                                <label for="clientInfo" class="asterisk-input">Client Info</label>
                                <div class="input-group input-group-sm">
                                    <input type="text" id="clientInfo" formControlName="clientInfo" readonly
                                        class="form-control form-control-sm"
                                        [ngClass]="{'is-invalid' : uiState.submitted && f.clientInfo?.invalid}"
                                        placeholder="Client Details">
                                    <button class="btn btn-info btn-sm d-flex align-items-center" type="button"
                                        (click)="openModal(request)">
                                        <i class="ri-user-search-fill mx-1"></i>
                                        Search
                                    </button>
                                    <span class="invalid-feedback fw-bold mt-0">Required</span>
                                </div>
                            </div>

                            <!-- Policy No -->
                            <div class="col-lg-3 col-md-6 col-sm-12 my-1">
                                <label for="policyNo" class="asterisk-input">Policy No.</label>
                                <div class="input-group input-group-sm">
                                    <input type="text" id="policyNo" formControlName="policyNo" readonly
                                        class="form-control form-control-sm"
                                        [ngClass]="{'is-invalid' : uiState.submitted && f.policyNo?.invalid}"
                                        placeholder="Policy No.">
                                    <button class="btn btn-info btn-sm d-flex align-items-center" type="button">
                                        <i class="ri-search-line mx-1"></i>
                                        View
                                    </button>
                                    <span class="invalid-feedback fw-bold mt-0">Required</span>
                                </div>
                            </div>

                            <!-- Class Of Business -->
                            <div class="col-lg-3 col-md-6 col-sm-12 my-1">
                                <label for="className" class="asterisk-input">Class Of Business</label>
                                <input type="text" formControlName="className" class="form-control form-control-sm"
                                    [ngClass]="{'is-invalid' : (f.className?.touched || uiState.submitted) && f.className?.invalid}"
                                    placeholder="Class Of Business" id="className" readonly>
                                <span class="invalid-feedback mt-0">Required</span>
                            </div>

                            <!-- Inception Date -->
                            <div class="col-lg-3 col-md-6 col-sm-12 my-1">
                                <label for="dateOfLossFrom" class="asterisk-input">Inception Date</label>
                                <app-gregorian-picker [model]="f.dateOfLossFrom?.value" [required]="true"
                                    [submitted]="uiState.submitted" [disabled]="false"
                                    [readonly]="true"></app-gregorian-picker>
                            </div>

                            <!-- Project Title -->
                            <div class="col-lg-3 col-md-6 col-sm-12 my-1">
                                <label for="projectTitle">Project Title</label>
                                <input type="text" formControlName="projectTitle" class="form-control form-control-sm"
                                    placeholder="Project Title" id="projectTitle" readonly>
                            </div>

                            <!-- Insurance Company -->
                            <div class="col-lg-3 col-md-6 col-sm-12 my-1">
                                <label for="insuranceCompany" class="asterisk-input">Insurance Company</label>
                                <input type="text" formControlName="insuranceCompany"
                                    class="form-control form-control-sm"
                                    [ngClass]="{'is-invalid' : (f.insuranceCompany?.touched || uiState.submitted) && f.insuranceCompany?.invalid}"
                                    placeholder="Insurance Company" id="insuranceCompany" readonly>
                                <span class="invalid-feedback mt-0">Required</span>
                            </div>

                            <!-- Line Of Business -->
                            <div class="col-lg-3 col-md-6 col-sm-12 my-1">
                                <label for="lineOfBusiness" class="asterisk-input">Line Of Business</label>
                                <input type="text" formControlName="lineOfBusiness" class="form-control form-control-sm"
                                    [ngClass]="{'is-invalid' : (f.lineOfBusiness?.touched || uiState.submitted) && f.lineOfBusiness?.invalid}"
                                    placeholder="Line Of Business" id="lineOfBusiness" readonly>
                                <span class="invalid-feedback mt-0">Required</span>
                            </div>

                            <!-- Expiry Date -->
                            <div class="col-lg-3 col-md-6 col-sm-12 my-1">
                                <label for="dateOfLossTo" class="asterisk-input">Expiry Date</label>
                                <app-gregorian-picker [model]="f.dateOfLossTo?.value" [required]="true"
                                    [submitted]="uiState.submitted" [disabled]="false"
                                    [readonly]="true"></app-gregorian-picker>
                            </div>

                            <div class="col-lg-12 col-md-12 col-sm-12 mt-3">
                                <div class="card ribbon-box border shadow-none mb-lg-0 h-100">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Clients Outstanding / Overdue Balance
                                        </div>
                                        <div class="ribbon-content mt-5 C-P-Card text-muted" style="max-height: 208px;"
                                            data-simplebar>
                                            <table id="clientsOutstandingOverdueBalance"
                                                class="table align-middle table-nowrap mb-0">
                                                <thead class="table-light">
                                                    <tr>
                                                        <th scope="col">Insurance Company</th>
                                                        <th scope="col">Policy No.</th>
                                                        <th scope="col" class="text-end">Outstanding Balance</th>
                                                        <th scope="col" class="text-end">Overdue Balance</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <!--./row-->
                    </div>
                    <!--./container-->
                </div>
            </ng-template>
        </ngb-panel>

        <!-- Claim Details -->
        <ngb-panel id="2" title="Claim Details" cardClass="open my-4">
            <ng-template ngbPanelContent="2">
                <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo">
                    <div class="container-fluid mb-3">
                        <div class="row">
                            <div class="col-lg-3 col-md-6 col-sm-12">
                                <div class="card ribbon-box border shadow-none">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Claim Info
                                        </div>
                                        <div class="ribbon-content mt-4 C-P-Card text-muted">
                                            <div class="mb-2">
                                                <label for="previousClaimsNo">Previous Claims</label>
                                                <input type="text" formControlName="previousClaimsNo"
                                                    class="form-control form-control-sm" placeholder="Previous Claims"
                                                    id="previousClaimsNo" readonly>
                                            </div>
                                            <div class="mb-2">
                                                <label for="insurCompClaimNo">Insurance Claim No.</label>
                                                <input type="text" formControlName="insurCompClaimNo"
                                                    class="form-control form-control-sm"
                                                    placeholder="Insurance Claim No." id="insurCompClaimNo">
                                            </div>
                                            <div class="mb-2">
                                                <label for="membName">Member/Driver Name</label>
                                                <input type="text" formControlName="membName"
                                                    [ngClass]="{'is-invalid' : (f.membName?.touched || uiState.submitted) && f.membName?.invalid}"
                                                    class="form-control form-control-sm"
                                                    placeholder="Second United Gulf for Healthcare Co." id="membName">
                                                <span class="invalid-feedback fw-bold mt-0">Required</span>
                                            </div>
                                            <div class="mb-2">
                                                <label for="bLAWBNo">BL/AWB No.</label>
                                                <input type="text" formControlName="bLAWBNo"
                                                    class="form-control form-control-sm"
                                                    placeholder="Insurance Claim No." id="bLAWBNo">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card ribbon-box border shadow-none mt-4">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Loss Adjuster
                                        </div>
                                        <div class="ribbon-content mt-4 C-P-Card text-muted">
                                            <div class="mb-2">
                                                <label for="lostadjuster">Loss Adjuster</label>
                                                <input type="text" name="lostadjuster"
                                                    class="form-control form-control-sm" placeholder="Loss Adjuster"
                                                    id="lostadjuster">
                                            </div>
                                            <div class="mb-2">
                                                <label for="lostadjusterEmail">
                                                    Loss Adjuster Reference
                                                </label>
                                                <input type="text" name="lostadjusterEmail"
                                                    class="form-control form-control-sm"
                                                    placeholder="Loss Adjuster Reference" id="lostadjusterEmail">
                                            </div>
                                            <div class="mb-2">
                                                <label for="lostadjusterTele">
                                                    Loss Adjuster Contact
                                                </label>
                                                <input type="text" name="lostadjusterTele"
                                                    class="form-control form-control-sm"
                                                    placeholder="Loss Adjuster Contact" id="lostadjusterTele">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6 col-sm-12">
                                <div class="card ribbon-box border shadow-none">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Claim Amount
                                        </div>
                                        <div class="ribbon-content mt-4 C-P-Card text-muted">
                                            <div class="row my-2">
                                                <div class="col-lg-5 d-flex align-items-center">
                                                    <div class="d-flex align-items-center">
                                                        <input id="ckClaimAmount" type="checkbox"
                                                            formControlName="ckClaimAmount">
                                                        <label for="ckClaimAmount" class="mb-0 mx-1">
                                                            Claim Amount
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-7">
                                                    <div class="input-group input-group-sm">
                                                        <input type="text" class="form-control input-text-right"
                                                            formControlName="claimAmount" InputMask placeholder="0.00"
                                                            aria-describedby="SAR">
                                                        <span class="input-group-text"
                                                            style="padding: .25rem .5rem;">SAR</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row my-2">
                                                <div class="col-lg-5 d-flex align-items-center">
                                                    <label for="otherCurrAmount" class="mb-0">
                                                        Other Currency Amount
                                                    </label>
                                                </div>
                                                <div class="col-lg-7">
                                                    <div class="input-group input-group-sm">
                                                        <input type="text" class="form-control input-text-right"
                                                            formControlName="otherCurrAmount" id="otherCurrAmount"
                                                            InputMask placeholder="0.00" aria-describedby="SAR">
                                                        <span class="input-group-text">
                                                            <i class="ri-currency-line" style="padding: 0 6px;"></i>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row my-2">
                                                <div class="col-lg-5 d-flex align-items-center">
                                                    <label for="otherCurr" class="mb-0">
                                                        Currency
                                                    </label>
                                                </div>
                                                <div class="col-lg-7">
                                                    <!-- [items]="(formData | async)?.Producers?.content!" -->
                                                    <ng-select formControlName="otherCurr" bindLabel="name"
                                                        bindValue="name" [loading]="formData ? false : true">
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="row my-2">
                                                <div class="col-lg-5 d-flex align-items-center">
                                                    <label for="exchangeRate" class="mb-0">
                                                        Exchange Rate
                                                    </label>
                                                </div>
                                                <div class="col-lg-7">
                                                    <div class="input-group input-group-sm">
                                                        <input type="text" class="form-control input-text-right"
                                                            formControlName="exchangeRate" id="exchangeRate" InputMask
                                                            placeholder="0.00" aria-describedby="SAR" readonly>
                                                        <span class="input-group-text" id="SAR">
                                                            <i class="ri-exchange-funds-line"
                                                                style="padding: 0 6px;"></i>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row my-2">
                                                <div class="col-lg-5 d-flex align-items-center">
                                                    <label for="estimatedValue" class="mb-0">
                                                        Estimated Value
                                                    </label>
                                                </div>
                                                <div class="col-lg-7">
                                                    <div class="input-group input-group-sm">
                                                        <input type="text" class="form-control input-text-right"
                                                            formControlName="estimatedValue" id="estimatedValue"
                                                            InputMask placeholder="0.00" aria-describedby="SAR">
                                                        <span class="input-group-text"
                                                            style="padding: .25rem .5rem;">SAR</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row my-2">
                                                <div class="col-lg-5 d-flex align-items-center">
                                                    <label for="salvage" class="mb-0">Salvage</label>
                                                </div>
                                                <div class="col-lg-7">
                                                    <div class="input-group input-group-sm">
                                                        <input type="text" class="form-control input-text-right"
                                                            formControlName="salvage" id="salvage" placeholder="0.00"
                                                            InputMask aria-describedby="SAR">
                                                        <span class="input-group-text"
                                                            style="padding: .25rem .5rem;">SAR</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card ribbon-box border shadow-none mt-3">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Contact Details
                                        </div>
                                        <div class="ribbon-content mt-4 C-P-Card text-muted">
                                            <div class="mb-2">
                                                <label for="contactName">Contact Name</label>
                                                <input type="text" formControlName="contactName"
                                                    class="form-control form-control-sm" placeholder="Contact Name"
                                                    id="contactName">
                                            </div>
                                            <div class="mb-2">
                                                <label for="contactEmail">Contact Email</label>
                                                <input type="text" formControlName="contactEmail"
                                                    class="form-control form-control-sm" placeholder="Contact Email"
                                                    id="contactEmail">
                                            </div>
                                            <div class="mb-2">
                                                <label for="contactTele">Contact Tele.</label>
                                                <input type="text" formControlName="contactTele"
                                                    class="form-control form-control-sm" placeholder="Contact Tele."
                                                    id="contactTele">
                                            </div>
                                            <div class="mb-2">
                                                <label for="notes">Notes</label>
                                                <textarea class="form-control form-control-sm" formControlName="notes"
                                                    placeholder="Contact Notes" id="notes" rows="1"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6 col-sm-12">
                                <div class="card ribbon-box border shadow-none">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Dates
                                        </div>
                                        <div class="ribbon-content mt-4 C-P-Card text-muted">
                                            <!-- Intimation Date From Client -->
                                            <div class="mb-2">
                                                <label for="chIntimationDate" class="d-flex align-items-center">
                                                    <input id="chIntimationDate" type="checkbox"
                                                        formControlName="chIntimationDate" class="me-1">
                                                    Intimation Date From Client
                                                </label>
                                                <app-gregorian-picker [model]="f.intimationDate?.value"
                                                    [required]="f.intimationDate?.enabled!"
                                                    [submitted]="(uiState.submitted || f.intimationDate?.touched!) && f.intimationDate?.enabled!"
                                                    [disabled]="f.intimationDate?.disabled!"></app-gregorian-picker>
                                            </div>

                                            <!-- Accident / Bill Date -->
                                            <div class="mb-2">
                                                <label for="chDateOfLoss" class="d-flex align-items-center">
                                                    <input id="chDateOfLoss" type="checkbox"
                                                        formControlName="chDateOfLoss" class="me-1">
                                                    Accident / Bill Date
                                                </label>
                                                <app-gregorian-picker [model]="f.dateOfLoss?.value"
                                                    [required]="f.dateOfLoss?.enabled!"
                                                    [submitted]="(uiState.submitted || f.dateOfLoss?.touched!) && f.dateOfLoss?.enabled!"
                                                    [disabled]="f.dateOfLoss?.disabled!"></app-gregorian-picker>
                                            </div>

                                            <!-- Receive Date -->
                                            <div class="mb-2">
                                                <label for="chDateOfReceive" class="d-flex align-items-center">
                                                    <input id="chDateOfReceive" formControlName="chDateOfReceive"
                                                        type="checkbox" class="me-1"> Receive Date
                                                </label>
                                                <app-gregorian-picker [model]="f.dateOfReceive?.value"
                                                    [required]="f.dateOfReceive?.enabled!"
                                                    [submitted]="(uiState.submitted || f.dateOfReceive?.touched!) && f.dateOfReceive?.enabled!"
                                                    [disabled]="f.dateOfReceive?.disabled!"></app-gregorian-picker>
                                            </div>

                                            <!-- Date of Submission-->
                                            <div class="mb-2">
                                                <label for="chDateofSubmission" class="d-flex align-items-center">
                                                    <input id="chDateofSubmission" type="checkbox"
                                                        formControlName="chDateofSubmission" class="me-1"> Date of
                                                    Submission
                                                </label>
                                                <app-gregorian-picker [model]="f.dateOfSubmission?.value"
                                                    [required]="f.dateOfSubmission?.enabled!"
                                                    [submitted]="(uiState.submitted || f.dateOfSubmission?.touched!) && f.dateOfSubmission?.enabled!"
                                                    [disabled]="f.dateOfSubmission?.disabled!"></app-gregorian-picker>
                                            </div>

                                            <!-- Deadline -->
                                            <div class="mb-2">
                                                <label for="chDateOfDeadline" class="d-flex align-items-center">
                                                    <input id="chDateOfDeadline" formControlName="chDateOfDeadline"
                                                        type="checkbox" class="me-1">
                                                    Deadline
                                                </label>
                                                <app-gregorian-picker [model]="f.dateOfDeadline?.value"
                                                    [required]="f.dateOfDeadline?.enabled!"
                                                    [submitted]="(uiState.submitted || f.dateOfDeadline?.touched!) && f.dateOfDeadline?.enabled!"
                                                    [disabled]="f.dateOfDeadline?.disabled!"></app-gregorian-picker>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card ribbon-box border shadow-none mt-4">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Claim State
                                        </div>
                                        <div class="ribbon-content mt-4 C-P-Card text-muted">
                                            <div class="my-1">
                                                <label for="status" class="asterisk-input">Claim Status</label>
                                                <!-- [items]="(formData | async)?.Status?.content!" -->
                                                <ng-select formControlName="status" class="is-invalid"
                                                    placeholder="Claim Status"
                                                    [ngClass]="{'is-submitted': (f.status?.touched || uiState.submitted) && f.status?.invalid}"
                                                    bindLabel="name" bindValue="name"
                                                    [loading]="formData ? false : true">
                                                    <ng-template ng-option-tmp let-item="item">
                                                        <div>{{ item.name }}</div>
                                                    </ng-template>
                                                </ng-select>
                                                <span class="invalid-feedback fw-bold mt-0"
                                                    *ngIf="(f.status?.touched || uiState.submitted) && f.status?.invalid">Required</span>
                                            </div>
                                            <div class="my-1">
                                                <label for="claimStatusNotes" class="asterisk-input">Notes</label>
                                                <!-- [items]="(formData | async)?.claimStatusNotes?.content!" -->
                                                <ng-select formControlName="claimStatusNotes" class="is-invalid"
                                                    placeholder="Claim Status Notes"
                                                    [ngClass]="{'is-submitted': (f.claimStatusNotes?.touched || uiState.submitted) && f.claimStatusNotes?.invalid}"
                                                    bindLabel="name" bindValue="name"
                                                    [loading]="formData ? false : true">
                                                    <ng-template ng-option-tmp let-item="item">
                                                        <div>{{ item.name }}</div>
                                                    </ng-template>
                                                </ng-select>
                                                <span class="invalid-feedback fw-bold mt-0"
                                                    *ngIf="(f.claimStatusNotes?.touched || uiState.submitted) && f.claimStatusNotes?.invalid">Required</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6 col-sm-12">
                                <div class="card ribbon-box border shadow-none">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Claimant Details
                                        </div>
                                        <div class="ribbon-content mt-4 C-P-Card text-muted">
                                            <!-- Claimant Mobile -->
                                            <div class="my-1">
                                                <label for="claimantMobile">Claimant Mobile</label>
                                                <input type="text" formControlName="claimantMobile"
                                                    class="form-control form-control-sm" placeholder="Claimant Mobile"
                                                    id="claimantMobile">
                                            </div>

                                            <!-- Claimant Email -->
                                            <div class="my-1">
                                                <label for="claimantEmail">Claimant Email</label>
                                                <input type="text" formControlName="claimantEmail"
                                                    class="form-control form-control-sm" placeholder="Claimant Email"
                                                    id="claimantEmail">
                                            </div>

                                            <!-- Claimant IBAN -->
                                            <div class="my-1">
                                                <label for="claimantIBAN">Claimant IBAN</label>
                                                <input type="text" name="claimantIBAN"
                                                    class="form-control form-control-sm" placeholder="Claimant IBAN"
                                                    id="claimantIBAN">
                                            </div>

                                            <!-- Bank Name -->
                                            <div class="my-1">
                                                <label for="bankName" class="asterisk-input">Bank Name</label>
                                                <!-- [items]="(formData | async)?.bankNames?.content!" -->
                                                <ng-select formControlName="bankName" class="is-invalid"
                                                    [ngClass]="{'is-submitted': (f.bankName?.touched || uiState.submitted) && f.bankName?.invalid}"
                                                    bindLabel="name" bindValue="name" placeholder="Bank Name"
                                                    [loading]="formData ? false : true">
                                                    <ng-template ng-option-tmp let-item="item">
                                                        <div>{{ item.name }}</div>
                                                    </ng-template>
                                                </ng-select>
                                                <span class="invalid-feedback fw-bold mt-0"
                                                    *ngIf="(f.bankName?.touched || uiState.submitted) && f.bankName?.invalid">Required</span>
                                            </div>

                                            <!-- Bank Branch -->
                                            <div class="my-1">
                                                <label for="bankBranch">Bank Branch</label>
                                                <input type="text" formControlName="bankBranch"
                                                    class="form-control form-control-sm" placeholder="Bank Branch"
                                                    id="bankBranch">
                                            </div>

                                            <!-- Bank City -->
                                            <div class="my-1">
                                                <label for="bankCity">Bank City</label>
                                                <input type="text" formControlName="bankCity"
                                                    class="form-control form-control-sm" placeholder="Bank City"
                                                    id="bankCity">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card ribbon-box border shadow-none mt-4 mb-lg-0">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Required Documents
                                        </div>
                                        <div class="ribbon-content mt-4 pt-1 text-muted">
                                            <table id="requiredDocuments" class="table align-middle table-nowrap mb-0">
                                                <thead class="table-light">
                                                    <tr>
                                                        <th scope="col">
                                                            <input type="checkbox" id="chAllRequiredDocs">
                                                        </th>
                                                        <th scope="col">Document Name</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--./row-->
                    </div>
                </div>
            </ng-template>
        </ngb-panel>

        <!-- Payments -->
        <ngb-panel id="3" title="Payments" cardClass="open my-4">
            <ng-template ngbPanelContent="3">
                <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo">
                    <div class="container-fluid mb-3">
                        <div class="row">
                            <div class="ribbon-conten pt-2 text-muted">
                                <div class="card ribbon-box border shadow-none">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            List Of Payments</div>
                                        <div class="ribbon-content mt-3 text-muted">
                                            <div class="d-flex justify-content-end">
                                                <button type="button" (click)="addPayment()"
                                                    class="ms-auto btn btn-sm btn-soft-primary mb-lg-2 bg-gradient waves-effect waves-light">
                                                    <i class="ri-menu-add-line"></i> Add Payment
                                                </button>
                                            </div>
                                            <table class="table align-middle table-nowrap mb-0">
                                                <thead class="table-light">
                                                    <tr>
                                                        <th scope="col">Status</th>
                                                        <th scope="col" class="text-center">Amount</th>
                                                        <th scope="col">Payment Details</th>
                                                        <th scope="col">Payment Type</th>
                                                        <th scope="col">Bank Name</th>
                                                        <th scope="col">IBAN</th>
                                                        <th scope="col">Created By</th>
                                                        <th scope="col">Created On</th>
                                                        <th scope="col">Date Of Payments</th>
                                                        <th scope="col">Date Of Cheque</th>
                                                        <th scope="col">Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="my-1 text-center text-dark fw-bold no-item-contact">
                                                        <td colspan="100">Add Payment To show</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="d-flex justify-content-end">
                                            <div class="row col-4 mb-2 mt-4">
                                                <div class="col-lg-5 d-flex align-items-center justify-content-end">
                                                    <div class="d-flex align-items-center">
                                                        <label for="paymentsTotalPayment" class="mb-0">
                                                            Total Payments:
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-7">
                                                    <div class="input-group input-group-sm">
                                                        <input type="text" class="form-control input-text-right"
                                                            name="paymentsTotalPayment" id="paymentsTotalPayment"
                                                            placeholder="0.00" aria-describedby="SAR" readonly>
                                                        <span class="input-group-text"
                                                            style="padding: .25rem .5rem;">SAR</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--./row-->
                    </div>
                    <!--./container-->
                </div>
            </ng-template>
        </ngb-panel>

        <!-- Approvals -->
        <ngb-panel id="4" title="Approvals" cardClass="open my-4">
            <ng-template ngbPanelContent="3">
                <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo">
                    <div class="container-fluid mb-3">
                        <div class="card ribbon-box border shadow-none">
                            <div class="card-body">
                                <div class="ribbon ribbon-info round-shape">
                                    List Of Approvals</div>
                                <div class="ribbon-content mt-2 text-muted">
                                    <div class="d-flex justify-content-end">
                                        <button type="button" (click)="addApproval()"
                                            class="ms-auto btn btn-sm btn-soft-primary mb-lg-2 bg-gradient waves-effect waves-light">
                                            <i class="ri-menu-add-line"></i> Add Approval
                                        </button>
                                    </div>
                                    <table id="listOfApprovalsTable" class="table align-middle table-nowrap mb-0">
                                        <thead class="table-light">
                                            <tr>
                                                <th scope="col">Chassis No</th>
                                                <th scope="col" class="text-center">Labor</th>
                                                <th scope="col" class="text-center">Towing Changes</th>
                                                <th scope="col" class="text-center">Spare Parts</th>
                                                <th scope="col" class="text-center">Material</th>
                                                <th scope="col" class="text-center">VAT Amount</th>
                                                <th scope="col" class="text-center">Total Amount</th>
                                                <th scope="col" class="text-center">Depreciation</th>
                                                <th scope="col" class="text-center">Deductible / Excess</th>
                                                <th scope="col" class="text-center">Discounts</th>
                                                <th scope="col" class="text-center">Total Loss</th>
                                                <th scope="col" class="text-center">Lumpsum Amount</th>
                                                <th scope="col" class="text-center">Net Amount</th>
                                                <th scope="col">Updated By</th>
                                                <th scope="col">Updated On</th>
                                                <th scope="col">Created By</th>
                                                <th scope="col">Created On</th>
                                                <th scope="col">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>

                                        </tbody>
                                    </table>
                                </div>
                                <div class="d-flex justify-content-end">
                                    <div class="row col-4 mb-2 mt-4">
                                        <div class="col-lg-5 d-flex align-items-center justify-content-end">
                                            <div class="lables d-flex align-items-center">
                                                <label for="approvalsTotalApproval" class="mb-0">
                                                    Total Approvals:
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-lg-7">
                                            <div class="input-group input-group-sm">
                                                <input type="text" class="form-control input-text-right"
                                                    name="approvalsTotalApproval" id="approvalsTotalApproval"
                                                    placeholder="0.00" aria-describedby="SAR" readonly>
                                                <span class="input-group-text currencyTypeView"
                                                    style="padding: .25rem .5rem;">SAR</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--./row-->
                    </div>
                    <!--./container-->
                </div>
            </ng-template>
        </ngb-panel>

        <!-- Invoices -->
        <ngb-panel id="5" title="Invoices" cardClass="open my-4">
            <ng-template ngbPanelContent="3">
                <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo">
                    <div class="container-fluid mb-3">
                        <div class="row">
                            <div class="card ribbon-box border shadow-none">
                                <div class="card-body">
                                    <div class="ribbon ribbon-info round-shape">
                                        List Of Invoices</div>
                                    <div class="ribbon-content mt-3 C-P-Card text-muted">
                                        <div class="d-flex justify-content-end">
                                            <button type="button"
                                                class="ms-auto btn btn-sm btn-soft-primary mb-lg-2 bg-gradient waves-effect waves-light">
                                                <i class="ri-menu-add-line"></i> Add Invoice
                                            </button>
                                        </div>
                                        <table id="listOfInvoicesTable" class="table align-middle table-nowrap mb-0">
                                            <thead class="table-light">
                                                <tr>
                                                    <th scope="col">Invoice No.</th>
                                                    <th scope="col">Invoice Date</th>
                                                    <th scope="col">WIP No.</th>
                                                    <th scope="col">Chassis No.</th>
                                                    <th scope="col" class="text-center">Towing Changes</th>
                                                    <th scope="col" class="text-center">Labor</th>
                                                    <th scope="col" class="text-center">Spare Parts</th>
                                                    <th scope="col" class="text-center">Other</th>
                                                    <th scope="col" class="text-center">Estimated Value</th>
                                                    <th scope="col" class="text-center">VAT Amount</th>
                                                    <th scope="col" class="text-center">Grand Total</th>
                                                    <th scope="col" class="text-center">Deductible Excess</th>
                                                    <th scope="col" class="text-center">Discount</th>
                                                    <th scope="col" class="text-center">Amount Due</th>
                                                    <th scope="col" class="text-center">Updated By</th>
                                                    <th scope="col" class="text-center">Updated On</th>
                                                    <th scope="col" class="text-center">Created By</th>
                                                    <th scope="col" class="text-center">Created On</th>
                                                    <th scope="col">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>

                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="d-flex justify-content-end">
                                        <div class="row col-4 mb-2 mt-4">
                                            <div class="col-lg-5 d-flex align-items-center justify-content-end">
                                                <div class="lables d-flex align-items-center">
                                                    <label for="invoicesTotalAmountInvoices" class="mb-0">
                                                        Total Invoices:
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-7">
                                                <div class="input-group input-group-sm">
                                                    <input type="text" class="form-control input-text-right"
                                                        name="invoicesTotalAmountInvoices"
                                                        id="invoicesTotalAmountInvoices" placeholder="0.00"
                                                        aria-describedby="SAR" readonly>
                                                    <span class="input-group-text currencyTypeView"
                                                        style="padding: .25rem .5rem;">SAR</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--./row-->
                    </div>
                    <!--./container-->
                </div>
            </ng-template>
        </ngb-panel>

        <!-- Rejections/Deductions -->
        <ngb-panel id="6" title="Rejections/Deductions" cardClass="open my-4">
            <ng-template ngbPanelContent="3">
                <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo">
                    <div class="container-fluid mb-3">
                        <div class="row">
                            <div class="card ribbon-box border shadow-none">
                                <div class="card-body">
                                    <div class="ribbon ribbon-info round-shape">
                                        List Of Rejected Payments</div>
                                    <div class="ribbon-content mt-3 text-muted">
                                        <div class="d-flex justify-content-end">
                                            <button type="button"
                                                class="ms-auto btn btn-sm btn-soft-primary mb-lg-2 bg-gradient waves-effect waves-light">
                                                <i class="ri-menu-add-line"></i> Add Invoice
                                            </button>
                                        </div>
                                        <table id="rejectedPaymentListTable"
                                            class="table align-middle table-nowrap mb-0">
                                            <thead class="table-light">
                                                <tr>
                                                    <th scope="col">Type</th>
                                                    <th scope="col" class="text-center">Amount</th>
                                                    <th scope="col">Rejection / Deduction Reason</th>
                                                    <th scope="col">Notes</th>
                                                    <th scope="col">Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>

                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--./row-->
                    </div>
                    <!--./container-->
                </div>
            </ng-template>
        </ngb-panel>

        <!-- Medical Claims -->
        <ngb-panel id="7" title="Medical Claims" cardClass="open my-4">
            <ng-template ngbPanelContent="3">
                <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo">
                    <div class="container-fluid mb-3">
                        <div class="row">
                            <div class="col-xl-6 col-lg-12 col-md-12 mt-2">
                                <div class="card ribbon-box border shadow-none mb-lg-0 h-100">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Client's Premium & Company Commissions
                                        </div>
                                        <div class="ribbon-content mt-4 pt-2 text-muted">
                                            <div class="row">

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--./row-->
                    </div>
                    <!--./container-->
                </div>
            </ng-template>
        </ngb-panel>

        <!-- Motor Claims -->
        <ngb-panel id="8" title="Motor Claims" cardClass="open my-4">
            <ng-template ngbPanelContent="3">
                <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo">
                    <div class="container-fluid mb-3">
                        <div class="row">
                            <div class="col-xl-6 col-lg-12 col-md-12 mt-2">
                                <div class="card ribbon-box border shadow-none mb-lg-0 h-100">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Client's Premium & Company Commissions
                                        </div>
                                        <div class="ribbon-content mt-4 pt-2 text-muted">
                                            <div class="row">

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--./row-->
                    </div>
                    <!--./container-->
                </div>
            </ng-template>
        </ngb-panel>

        <!-- General Claims -->
        <ngb-panel id="9" title="General Claims" cardClass="open my-4">
            <ng-template ngbPanelContent="3">
                <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo">
                    <div class="container-fluid mb-3">
                        <div class="row">
                            <div class="col-xl-6 col-lg-12 col-md-12 mt-2">
                                <div class="card ribbon-box border shadow-none mb-lg-0 h-100">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Client's Premium & Company Commissions
                                        </div>
                                        <div class="ribbon-content mt-4 pt-2 text-muted">
                                            <div class="row">

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--./row-->
                    </div>
                    <!--./container-->
                </div>
            </ng-template>
        </ngb-panel>

        <!-- Emails Log -->
        <ngb-panel id="10" title="Emails Log" cardClass="open my-4">
            <ng-template ngbPanelContent="3">
                <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo">
                    <div class="container-fluid mb-3">
                        <div class="row">
                            <div class="col-xl-6 col-lg-12 col-md-12 mt-2">
                                <div class="card ribbon-box border shadow-none mb-lg-0 h-100">
                                    <div class="card-body">
                                        <div class="ribbon ribbon-info round-shape">
                                            Client's Premium & Company Commissions
                                        </div>
                                        <div class="ribbon-content mt-4 pt-2 text-muted">
                                            <div class="row">

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--./row-->
                    </div>
                    <!--./container-->
                </div>
            </ng-template>
        </ngb-panel>

        <!-- Documents -->
        <ngb-panel id="11" title="Documents" cardClass="open my-4">
            <ng-template ngbPanelContent="5">
                <app-dropzone (files)="documentsList($event)" [UploadedFiles]="docs" #dropzone></app-dropzone>
            </ng-template>
        </ngb-panel>
    </ngb-accordion>

    <!-- Buttons -->
    <div class="card">
        <div class="container-fluid">
            <div class="card-body px-1 py-3">
                <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-sm btn-success me-2">
                        <i class="ri-save-2-fill"></i>
                        Save
                    </button>
                    <button type="button" id="sa-warning" (click)="resetForm()" class="btn btn-sm btn-soft-danger">
                        <i class="ri-delete-bin-2-line"></i>
                        Clear
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>


<!-- Policies Search Popup Modal -->
<ng-template #request let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Policies Search</h4>
        <button type="button" class="btn-close btn-sm" aria-label="Close" (click)="modal.dismiss()"></button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-4 mb-2">
                <!-- [items]="(formData | async)?.Producers?.content!" -->
                <ng-select [(ngModel)]="uiState.searchRequest.insuranceCompany" #insuranceCompany="ngModel"
                    placeholder="Insurance Company" ngbTooltip="Insurance Company" bindLabel="name" bindValue="name"
                    [loading]="formData ? false : true">
                    <ng-template ng-option-tmp let-item="item">
                        <div>{{ item.name }}</div>
                    </ng-template>
                </ng-select>
            </div>
            <div class="col-4 mb-2">
                <!-- [items]="(formData | async)?.Producers?.content!" -->
                <ng-select [(ngModel)]="uiState.searchRequest.classOfInsurance" #classOfInsurance="ngModel"
                    placeholder="Class Of Business" bindLabel="name" bindValue="name" ngbTooltip="Class Of Business"
                    [loading]="formData ? false : true">
                    <ng-template ng-option-tmp let-item="item">
                        <div>{{ item.name }}</div>
                    </ng-template>
                </ng-select>
            </div>
            <div class="col-4 mb-2">
                <!-- [items]="(formData | async)?.Producers?.content!" -->
                <ng-select [(ngModel)]="uiState.searchRequest.lineOfBusiness" #lineOfBusiness="ngModel"
                    placeholder="Line Of Business" bindLabel="name" bindValue="name" ngbTooltip="Line Of Business"
                    [loading]="formData ? false : true">
                    <ng-template ng-option-tmp let-item="item">
                        <div>{{ item.name }}</div>
                    </ng-template>
                </ng-select>
            </div>
            <div class="col-4 mb-2">
                <input type="text" class="form-control form-control-sm" ngbTooltip="Client Name"
                    [(ngModel)]="uiState.searchRequest.clientName" #clientName="ngModel" placeholder="Client Name">
            </div>
            <div class="col-4 mb-2">
                <input type="text" class="form-control form-control-sm" ngbTooltip="Policy No"
                    [(ngModel)]="uiState.searchRequest.policyNo" #policyNo="ngModel" placeholder="Policy No.">
            </div>
            <div class="col-4 mb-2 d-flex justify-content-end">
                <button class="btn btn-sm btn-primary w-25 d-flex" (click)="requestsData.setDataSource()"><i
                        class="ri-search-line mx-2"></i> Search</button>
            </div>
        </div>
        <div class="row mt-5">
            <app-claims-request-list [filter]="uiState.searchRequest" (dataEvent)="fillRequestDataToForm($event)"
                type="request" #requestsData></app-claims-request-list>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger btn-sm" (click)="modal.close()">Close</button>
    </div>
</ng-template>