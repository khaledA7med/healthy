<div class="row justify-content-between align-items-center mb-3">
    <div class="col-2 form-group row align-items-center">
        <label class="col-sm-2 col-form-label" for="pagingSizeSelect">Show: </label>
        <div class="col-sm-4">
            <ng-select (change)="onPageSizeChange()" [clearable]="false" [searchable]="false" id="pagingSizeSelect"
                [(ngModel)]="uiState.filters.pageSize">
                <ng-option [value]="25">25</ng-option>
                <ng-option [value]="50">50</ng-option>
                <ng-option [value]="100">100</ng-option>
                <ng-option [value]="150">150</ng-option>
                <ng-option [value]="200">200</ng-option>
            </ng-select>
        </div>
    </div>
    <div class="col-3 d-flex justify-content-end">
        <div class="btn-group btn-group-sm">
            <button class="btn btn-sm btn-outline-primary p-0" [class.active]="uiState.view=='card'"
                (click)="uiState.view='card'"><i class="ri-layout-grid-line px-2 fs-16"></i></button>
            <button class="btn btn-sm btn-outline-primary p-0" [class.active]="uiState.view=='list'"
                (click)="uiState.view='list'"><i class="ri-list-unordered px-2 fs-16"></i></button>
        </div>
        <button class="btn btn-sm btn-info mx-2 d-flex align-items-center" (click)="openFilterOffcanvas()"><i
                class="ri-filter-3-line me-1"></i>
            Filters
        </button>
        <a [routerLink]="'/' + uiState.routerLink.forms" class="btn btn-sm btn-success  d-flex align-items-center">
            <i class="ri-add-line me-1"></i> New Lead
        </a>
    </div>
</div>
<div [ngSwitch]="uiState.view">
    <div *ngSwitchCase="'card'">
        <div class="tasks-board mb-3" id="kanbanboard">
            <div class="tasks-list">
                <div class="d-flex mb-3">
                    <div class="flex-grow-1">
                        <h6 class="fs-14 text-uppercase fw-semibold mb-0">
                            Pending With Underwriting <small
                                class="badge bg-dark align-bottom ms-1 totaltask-badge">{{cardLists.pending.length}}</small>
                        </h6>
                    </div>
                </div>
                <ngx-simplebar class="tasks-wrapper px-3 mx-n3 mb-3 status-cards">
                    <div class="status-card-body" id="pending" [dragula]="uiState.dragulaInit"
                        [(dragulaModel)]="cardLists.pending" data-status="Pending With Underwriting">
                        <div *ngFor="let item of cardLists.pending">
                            <app-draggable-card [item]="item" barBg="bg-dark"></app-draggable-card>
                        </div>
                    </div>
                    <div [ngClass]="{'noTask': cardLists.pending.length === 0}"></div>
                    <!--end tasks-->
                </ngx-simplebar>
            </div>
            <!--end pending-underwriting-->
            <div class="tasks-list">
                <div class="d-flex mb-3">
                    <div class="flex-grow-1">
                        <h6 class="fs-14 text-uppercase fw-semibold mb-0">
                            Waiting For Client FeedBack <small
                                class="badge bg-secondary align-bottom ms-1 totaltask-badge">{{cardLists.waitingClient.length}}</small>
                        </h6>
                    </div>
                </div>
                <ngx-simplebar class="tasks-wrapper px-3 mx-n3 status-cards">
                    <div class="status-card-body" id="waitingClient" [dragula]="uiState.dragulaInit"
                        [(dragulaModel)]="cardLists.waitingClient">
                        <div *ngFor="let item of cardLists.waitingClient">
                            <app-draggable-card [item]="item" barBg="bg-secondary"></app-draggable-card>
                        </div>
                    </div>
                    <div [ngClass]="{'noTask': cardLists.waitingClient.length === 0}"></div>
                </ngx-simplebar>
            </div>
            <!--end Waiting For Client-->
            <div class="tasks-list">
                <div class="d-flex mb-3">
                    <div class="flex-grow-1">
                        <h6 class="fs-14 text-uppercase fw-bold mb-0">
                            Prospect <small
                                class="badge bg-info align-bottom ms-1 totaltask-badge">{{cardLists.prospect.length}}</small>
                        </h6>
                    </div>
                </div>
                <ngx-simplebar class="tasks-wrapper px-3 mx-n3 status-cards">
                    <div class="status-card-body" id="prospect" [dragula]="uiState.dragulaInit"
                        [(dragulaModel)]="cardLists.prospect">
                        <div *ngFor="let item of cardLists.prospect">
                            <app-draggable-card [item]="item" barBg="bg-info"></app-draggable-card>
                        </div>
                    </div>
                    <div [ngClass]="{'noTask': cardLists.prospect.length === 0}"></div>
                </ngx-simplebar>
            </div>
            <!--end Prospect-->
            <div class="tasks-list">
                <div class="d-flex mb-3">
                    <div class="flex-grow-1">
                        <h6 class="fs-14 text-uppercase fw-bold mb-0">
                            Confirmed <small
                                class="badge bg-success align-bottom ms-1 totaltask-badge">{{cardLists.confirmed.length}}</small>
                        </h6>
                    </div>
                </div>
                <ngx-simplebar class="tasks-wrapper px-3 mx-n3 status-cards">
                    <div class="status-card-body" id="confirmed" [dragula]="uiState.dragulaInit"
                        [(dragulaModel)]="cardLists.confirmed">
                        <div *ngFor="let item of cardLists.confirmed">
                            <app-draggable-card [item]="item" barBg="bg-success"></app-draggable-card>
                        </div>
                    </div>
                    <div [ngClass]="{'noTask': cardLists.confirmed.length === 0}"></div>
                </ngx-simplebar>
            </div>
            <!--end Confirmed-->
            <div class="tasks-list">
                <div class="d-flex mb-3">
                    <div class="flex-grow-1">
                        <h6 class="fs-14 text-uppercase fw-bold mb-0">
                            Quoting <small
                                class="badge bg-warning align-bottom ms-1 totaltask-badge">{{cardLists.quoting.length}}</small>
                        </h6>
                    </div>
                </div>
                <ngx-simplebar class="tasks-wrapper px-3 mx-n3 status-cards">
                    <div class="status-card-body" id="quoting" [dragula]="uiState.dragulaInit"
                        [(dragulaModel)]="cardLists.quoting">
                        <div *ngFor="let item of cardLists.quoting">
                            <app-draggable-card [item]="item" barBg="bg-warning"></app-draggable-card>
                        </div>
                    </div>
                    <div [ngClass]="{'noTask': cardLists.quoting.length === 0}"></div>
                </ngx-simplebar>
            </div>
            <!--end Quoting-->
            <div class="tasks-list">
                <div class="d-flex mb-3">
                    <div class="flex-grow-1">
                        <h6 class="fs-14 text-uppercase fw-bold mb-0">
                            Lost <small
                                class="badge bg-danger align-bottom ms-1 totaltask-badge">{{cardLists.lost.length}}</small>
                        </h6>
                    </div>
                </div>
                <ngx-simplebar class="tasks-wrapper px-3 mx-n3 status-cards">
                    <div class="status-card-body" id="lost" [dragula]="uiState.dragulaInit"
                        [(dragulaModel)]="cardLists.lost">
                        <div *ngFor="let item of cardLists.lost">
                            <app-draggable-card [item]="item" barBg="bg-danger"></app-draggable-card>
                        </div>
                    </div>
                    <div [ngClass]="{'noTask': cardLists.lost.length === 0}"></div>
                </ngx-simplebar>
            </div>
            <!--end Lost-->
        </div>
    </div>
    <div *ngSwitchCase="'list'">
        <div class="ag-theme-alpine" appTableView>
            <ag-grid-angular id="gridScrollbar" style="width: 100%; height: 75vh" [rowData]="uiState.salesLead.list"
                [gridOptions]="gridOpts">
            </ag-grid-angular>
        </div>
    </div>
</div>